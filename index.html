<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/rainbow.css" />
    <link rel="stylesheet" href="styles/style.css" />
    <title>Homeworks</title>
  </head>

  <body>
    <main class="wrapper">
      <h1 id="hw1">Homework 3</h1>
      <hr class="split-homeworks" />

      <section>
        <div class="task">
          <h2>Homework 03 / Required</h2>
          <p>
            Объявите функцию без формальных параметров, которая выводит в
            консоль сама себя и все переданные ей аргументы Вызовите эту функцию
            с аргументами 10, false, "google"
          </p>
        </div>

        <div class="solution" contenteditable="true" id="scriptContent">
          <pre>
            <code data-language="javascript" > 
  function showSelf() {
    console.log(arguments.callee);
    for (arg of arguments) {
      console.log(arg);
    }
  }
  showSelf(10, false, "google");
          </code>
        </pre>
        </div>

        <button
          type="button"
          id="scriptContent"
          onclick="changeScript('scriptContent')"
        >
          Run
        </button>
      </section>

      <hr class="split-homeworks" />

      <section>
        <div class="task">
          <h2>Homework 02 / Additionally 1</h2>
          <p>
            Дополнительно ( 4 балла ) Объявите функцию userInfo, которая выводит
            в консоль сообщение: "Дата регистрации: " + свойство data контекста
            вызова, если свойство registered имеет значение true
            "Незарегистрированный пользователь: " + свойство name в противном
            случае ( используйте переменные в литералах ) Создайте два объекта с
            одинаковым набором свойств: name ( строка ) registered ( логическое
            значение ) data ( дата в формате "дд.мм.гг" ) Добавьте каждому
            объекту метод getInfo, который будет ссылкой на функцию userInfo
            Вызовите каждый метод
          </p>
        </div>

        <div class="solution" contenteditable="true" id="scriptContent2">
          <pre>
            <code data-language="javascript" > 
const person1 = {
  name: "name1",
  registered: true,
  //data: "06.01.19",
  data: new Date(2019, 0, 01),
  getInfo: userInfo,
};
const person2 = {
  name: "name2",
  registered: false,
  //data: "20.05.20",
  data: new Date(20, 05, 20),
  getInfo: userInfo,
};
function userInfo() {
  let tempData = this.data;
  let stringDate = `${tempData.getDate()}.${tempData.getMonth() + 1}.${
    tempData.getFullYear() - 2000
  }`;

  this.registered
    ? console.log("Дата регистрации: " + stringDate)
    : console.log("Незарегистрированный пользователь: " + this.name);
}
person1.getInfo();
person2.getInfo();            
          </code>
        </pre>
        </div>

        <button
          type="button"
          id="scriptContent2"
          onclick="changeScript('scriptContent2')"
        >
          Run
        </button>
      </section>

      <hr class="split-homeworks" />

      <section>
        <div class="task">
          <h2>Homework 02 / Additionally 2</h2>
          <p>
            Дополнительно ( 5 баллов ) Есть три объекта: users, posts и comments
            ( готовые объекты уже ждут вас по ссылке ) Написать код функции
            getPostComments ( postId ), которая возвращает массив всех
            комментариев к посту с идентификатором postId ( с именем автора
            комментария и текстом комментария )
          </p>
        </div>

        <div class="solution" contenteditable="true" id="scriptContent3">
          <pre>
            <code data-language="javascript" > 
              var users = {
                14587: {
                  name: "Ivan",
                  email: "ivan78@gmail.com",
                },
                28419: {
                  name: "Georg",
                  email: "georg.klep@gmail.com",
                },
                41457: {
                  name: "Stephan",
                  email: "stephan.borg@gmail.com",
                },
              };
              var posts = {
                7891451: {
                  author: 14587,
                  text:
                    "Imagine we can encapsulate these secondary responsibilities in functions",
                },
                7891452: {
                  author: 28419,
                  text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор. 
                Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора. 
                Ключевое слово super также может быть использовано для вызова функций родительского объекта`,
                },
                7891453: {
                  author: 28419,
                  text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое. 
                Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`,
                },
                7891454: {
                  author: 14587,
                  text:
                    "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта",
                },
              };
              var comments = {
                91078454: {
                  postId: 7891451,
                  author: 28419,
                  text: `The static String.fromCharCode() method returns a string created 
              from the specified sequence of UTF-16 code units`,
                },
                91078455: {
                  postId: 7891451,
                  author: 41457,
                  text: `HTML элемент — это механизм для отложенного рендера клиентского контента, 
              который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`,
                },
                91078457: {
                  postId: 7891452,
                  author: 41457,
                  text:
                    "Глобальный объект String является конструктором строк, или, последовательностей символов",
                },
                91078458: {
                  postId: 7891452,
                  author: 14587,
                  text: `The Element.namespaceURI read-only property returns the namespace URI of the element, 
              or null if the element is not in a namespace`,
                },
              };
              
              function getCurrentPostComments(postId) {
                let res = [];
              
                for (let key in comments) {
                  if (comments[key].postId === postId) {
                    res.push({
                      name: users[comments[key].author].name,
                      text: comments[key].text,
                    });
                  }
                }
                return res;
              }
              
              console.log(getCurrentPostComments(7891451));
          </code>
        </pre>
        </div>

        <button
          type="button"
          id="scriptContent3"
          onclick="changeScript('scriptContent3')"
        >
          Run
        </button>
      </section>
    </main>

    <script src="./scripts/rainbow-custom.min.js"></script>
    <script src="./scripts/genericjs.js"></script>
    <script src="./scripts/main.js"></script>
  </body>
</html>
