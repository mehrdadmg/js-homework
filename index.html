<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles/rainbow.css" />
    <link rel="stylesheet" href="styles/style.css" />
    <title>Homeworks</title>
    <style>
      details {
        margin-bottom: 15px;
      }

      .bk-red,
      .bk-blue,
      .bk-green,
      .bk-yellow,
      .bk-gray {
        width: 100%;
        height: 10vh;
        font-size: 30px;
        text-align: center;
        line-height: 10vh;
        text-transform: capitalize;
        cursor: pointer;
      }
      .bk-red {
        background-color: red;
      }
      .bk-blue {
        background-color: royalblue;
      }
      .bk-green {
        background-color: seagreen;
      }
      .bk-yellow {
        background-color: yellow;
      }
      .bk-gray {
        background-color: lightgrey;
        margin-bottom: 40px;
      }
      .redBack {
        background-color: red !important;
      }
    </style>
  </head>

  <body>
    <main class="wrapper">
      <h1>Javascript HomeWorks</h1>
      <hr class="split-homeworks" />

      <details class="h3" >
        <summary id="hw1">Homework 3</summary>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 02 / Required</h3>
            <p>
              Объявите функцию без формальных параметров, которая выводит в
              консоль сама себя и все переданные ей аргументы Вызовите эту
              функцию с аргументами 10, false, "google"
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent">
            <pre>
              <code data-language="javascript" > 
    function showSelf() {
      console.log(arguments.callee);
      for (arg of arguments) {
        console.log(arg);
      }
    }
    showSelf(10, false, "google");
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent"
            onclick="changeScript('scriptContent')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 03 / Additionally 1</h3>
            <p>
              Дополнительно ( 4 балла ) Объявите функцию userInfo, которая
              выводит в консоль сообщение: "Дата регистрации: " + свойство data
              контекста вызова, если свойство registered имеет значение true
              "Незарегистрированный пользователь: " + свойство name в противном
              случае ( используйте переменные в литералах ) Создайте два объекта
              с одинаковым набором свойств: name ( строка ) registered (
              логическое значение ) data ( дата в формате "дд.мм.гг" ) Добавьте
              каждому объекту метод getInfo, который будет ссылкой на функцию
              userInfo Вызовите каждый метод
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent2">
            <pre>
              <code data-language="javascript" > 
  const person1 = {
    name: "name1",
    registered: true,
    //data: "06.01.19",
    data: new Date(2019, 0, 01),
    getInfo: userInfo,
  };
  const person2 = {
    name: "name2",
    registered: false,
    //data: "20.05.20",
    data: new Date(20, 05, 20),
    getInfo: userInfo,
  };
  function userInfo() {
    let tempData = this.data;
    let stringDate = `${tempData.getDate()}.${tempData.getMonth() + 1}.${
      tempData.getFullYear() - 2000
    }`;
  
    this.registered
      ? console.log("Дата регистрации: " + stringDate)
      : console.log("Незарегистрированный пользователь: " + this.name);
  }
  person1.getInfo();
  person2.getInfo();            
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent2"
            onclick="changeScript('scriptContent2')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 02 / Additionally 2</h3>
            <p>
              Дополнительно ( 5 баллов ) Есть три объекта: users, posts и
              comments ( готовые объекты уже ждут вас по ссылке ) Написать код
              функции getPostComments ( postId ), которая возвращает массив всех
              комментариев к посту с идентификатором postId ( с именем автора
              комментария и текстом комментария )
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent3">
            <pre>
              <code data-language="javascript" > 
                var users = {
                  14587: {
                    name: "Ivan",
                    email: "ivan78@gmail.com",
                  },
                  28419: {
                    name: "Georg",
                    email: "georg.klep@gmail.com",
                  },
                  41457: {
                    name: "Stephan",
                    email: "stephan.borg@gmail.com",
                  },
                };
                var posts = {
                  7891451: {
                    author: 14587,
                    text:
                      "Imagine we can encapsulate these secondary responsibilities in functions",
                  },
                  7891452: {
                    author: 28419,
                    text: `В конструкторе ключевое слово super используется как функция, вызывающая родительский конструктор. 
                  Её необходимо вызвать до первого обращения к ключевому слову this в теле конструктора. 
                  Ключевое слово super также может быть использовано для вызова функций родительского объекта`,
                  },
                  7891453: {
                    author: 28419,
                    text: `DOM не обрабатывает или не вынуждает проверять пространство имен как таковое. 
                  Префикс пространства имен, когда он связан с конкретным узлом, не может быть изменен`,
                  },
                  7891454: {
                    author: 14587,
                    text:
                      "Ключевое слово super используется для вызова функций, принадлежащих родителю объекта",
                  },
                };
                var comments = {
                  91078454: {
                    postId: 7891451,
                    author: 28419,
                    text: `The static String.fromCharCode() method returns a string created 
                from the specified sequence of UTF-16 code units`,
                  },
                  91078455: {
                    postId: 7891451,
                    author: 41457,
                    text: `HTML элемент — это механизм для отложенного рендера клиентского контента, 
                который не отображается во время загрузки, но может быть инициализирован при помощи JavaScript`,
                  },
                  91078457: {
                    postId: 7891452,
                    author: 41457,
                    text:
                      "Глобальный объект String является конструктором строк, или, последовательностей символов",
                  },
                  91078458: {
                    postId: 7891452,
                    author: 14587,
                    text: `The Element.namespaceURI read-only property returns the namespace URI of the element, 
                or null if the element is not in a namespace`,
                  },
                };
                
                function getCurrentPostComments(postId) {
                  let res = [];
                
                  for (let key in comments) {
                    if (comments[key].postId === postId) {
                      res.push({
                        name: users[comments[key].author].name,
                        text: comments[key].text,
                      });
                    }
                  }
                  return res;
                }
                
                console.log(getCurrentPostComments(7891451));
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent3"
            onclick="changeScript('scriptContent3')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />
      </details>

      <details class="h4" >
        <summary id="hw1">Homework 4</summary>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 04 / Required</h3>
            <p>
              Обязательная часть ( 3 балла ) Создайте объект, свойства которого
              описывают содержимое дамской сумочки Создайте метод объекта,
              позволяющий удалить что-то из сумочки Создайте метод объекта,
              позволяющий положить что-то в сумочку
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent_h4">
            <pre>
              <code data-language="javascript" > 
  var bag = {
    wallet: "leather",
    passport: true,
    drivingLicence: true,
    key: "home",
    medicine: "aspirin",
    addItem(item, value = true) {
      return (this[item] = value);
    },
  
    removeItem(item) {
      return delete this[item];
    },
  };
  
  bag.addItem("mony", 1000);
  console.log(bag);
  
  bag.removeItem("key");
  console.log(bag);           
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent_h4"
            onclick="changeScript('scriptContent_h4')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 04 / Additionally 1</h3>
            <p>
              Additionally 1 Дополнительно ( 4 балла ) Объявить конструктор
              LibraryBook, с помощью которого можно создавать и редактировать
              объекты, хранящие информацию о книгах в библиотеке Приватные
              свойства объекта: title ( название книги ), year ( год издания ),
              author ( автор ), readerName ( кому выдана ), readerData ( когда
              выдана ) Приватный метод giveTheBook ( client ): внесение
              изменений в свойства: readerName ( client ) readerData ( текущая
              дата ) Публичные методы: getBookInfo () - посмотреть информацию о
              наличии книги ( вывести в консоль readerData ) getTheBook ( client
              ) - получить книгу: проверка, что книга не выдана на руки (
              приватное свойство readerName должно быть пустой строкой ) если
              выдана - вернуть null если не выдана, то вызвать приватный метод
              giveTheBook ( client ) и вернуть bookTitle returnBook () - вернуть
              книгу: сбросить значения приватных свойств readerName, readerData
              Создайте экземпляр книги Запросите экземпляр от имени ... ( любое
              имя ) :raised_hand: если будет слишком трудно, изучаем :coffee:
              пример Установите breakpoints в строках 7, 10, 14, 18, 20, 27
              Можете добавить в Watch переменные title, year, author,
              readerName, readerData Mожно отслеживать изменение значений
              переменных еще и в разделе Scope дебаггера: Local - локальные
              переменные исполняемой функции, Block - переменные контекста
              вызова Следите, какая функция сейчас выполняется, в разделе Call
              Stack После установки breakpoints перезагрузите страницу Не
              забывайте пошагово запускать выполнение кода В консоли
              отслеживайте результаты работы кода
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent_h4_2">
            <pre>
  <code data-language="javascript" > 
    var LibraryBook = function (
      _title,
      _year = "нет данных",
      _author = "нет данных"
    ) {
      var title = _title;
      var year = _year;
      var author = _author;
      var readerName = null;
      var readerData = null;
    
      function giveTheBook(client, data = new Date()) {
        readerName = client;
        readerData = data;
      }
      this.getBookInfo = function () {
        var text = readerName ? "выдана на руки" : "есть в наличии";
        console.info(`${author}, ${title} (${year}): ${text}`);
      };
      this.getTheBook = function (client, data) {
        if (readerName) {
          this.getBookInfo();
          return null;
        } else {
          giveTheBook(client, data);
          return {
            title: title,
            year: year,
            author: author,
          };
        }
      };
      this.returnBook = function () {
        readerName = null;
        readerData = null;
      };
    };
    
    var books = [];
    books[0] = new LibraryBook("Война и мир", "1995", "Лев Толстой");
    books[1] = new LibraryBook("Отцы и дети", "1998", "Тургенев");
    books[2] = new LibraryBook("Кобзарь", "2005", "Тарас Шевченко");
    
    var addNewBook = function (title, year, author) {
      books[books.length] = new LibraryBook(title, year, author);
    };
    
    console.log(books);
    
    /* 
    books[0].getBookInfo();
    books[0].getTheBook("Иван Сидоренко", new Date(2018, 6, 25));
    books[0].getBookInfo();
    books[0].returnBook();
    books[0].getBookInfo();
     */
    
    addNewBook("Иван Сидоренко2", new Date(2020, 6, 25), "AuthorName");
    console.log(books);
    
    books[3].getTheBook("Иван Сидоренко", new Date(2018, 6, 25));
    books[3].getBookInfo();
    books[3].returnBook();
    books[3].getBookInfo();
    
  </code>
            </pre>
          </div>

          <button
            type="button"
            id="scriptContent_h4_2"
            onclick="changeScript('scriptContent_h4_2')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 04 / Additionally 2</h3>
            <p>
              Дополнительно ( 5 баллов ) Объявите конструктор, который создает
              экземпляры с унаследованным методом addProperty Метод addProperty
              должен принимать два аргумента: имя свойства значение свойства и
              добавлять экземпляру новое свойство с указанным именем и значением
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent_h4_3">
            <pre>
              <code data-language="javascript" > 
                function myConstructor() {
                  this.addProperty = function (myKey, myValue) {
                    return (this[myKey] = myValue);
                  };
                }
                
                var newConstructor = new myConstructor();
                console.log(newConstructor);
                console.log(newConstructor.myKey1);
                
                newConstructor.addProperty("myKey1", "myValue1");
                console.log(newConstructor);
                console.log(newConstructor.myKey1);
                
                newConstructor.addProperty("myKey2", "myValue2");
                console.log(newConstructor);
                console.log(newConstructor.myKey2);
                
              </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent_h4_3"
            onclick="changeScript('scriptContent_h4_3')"
          >
            Run
          </button>
        </div>
        <hr class="split-homeworks" />
      </details>

      <details openetails class="h5" >
        <summary id="hw1">Homework 5</summary>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 05 / Required</h3>
            <p>
              Обязательное задание ( на 3 балла ) Напилить код функции
              modificator, такой, чтобы в результате работы кода: function
              sampleFunc () { console.log ( `${arguments.callee.name}:
              ${arguments[0]} | ${arguments[1]}` ) } function modificator ( func
              ) { ... } testFunc = modificator( sampleFunc ) testFunc() в
              консоли было: sampleFunc: test | sample
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent_h5">
            <pre>
              <code data-language="javascript" > 
  function sampleFunc() {
    console.log(`${arguments.callee.name}: ${arguments[0]} | ${arguments[1]}`);
  }
  
  function modificator(func) {
    var a = "test";
    var b = "sample";
    func(a, b);
  }
  
  modificator(sampleFunc);              
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent_h5"
            onclick="changeScript('scriptContent_h5')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 05 / Additionally 1</h3>
            <p>
              Дополнительно ( на 4 балла ) Напилить код функции modificator,
              такой, чтобы в результате работы кода: function sampleFunc () {
              console.info ( `Symbols in my code: ${arguments.callee + 0}` ) }
              function modificator ( func ) { ... } modificator( sampleFunc )
              sampleFunc() в консоль было выведено число символов в коде функции
              sampleFunc, т.е.: Symbols in my code: 93
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent_h5_2">
            <pre>
              <code data-language="javascript" > 
  function sampleFunc() {
    console.info(`Symbols in my code: ${arguments.callee + 0}`);
  }
  
  function modificator(func) {
    var funcString = func.toString();
    console.log(`Symbols in my code: ${funcString.length}`);
  }
  
  modificator(sampleFunc);             
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent_h5_2"
            onclick="changeScript('scriptContent_h5_2')"
          >
            Run
          </button>
        </div>

        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h3>Homework 05 / Additionally 2</h3>
            <p>
              Дополнительно ( на 5 баллов ) Напилите код функции generateError,
              такой, чтобы в результате работы кода: function testArguments () {
              function generateError ( numArgs ) { ... } try { arguments.length
              >= 3 ? null : generateError ( arguments.length ) } catch ( err ) {
              console.error ( `${err.name}: ${err.message}\n${err.stack}` ) } }
              testArguments ( "Google" ) в консоли было сообщение от ошибке: ►
              Application: Invalid arguments Function needs 3 arguments, but
              only 1 present
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent3">
            <pre>
              <code data-language="javascript" > 
  function testArguments() {
    function generateError(numArgs) {
      /*
      if (numArgs) {
        var err = new Error("Invalid arguments");
        err.name = "Application:";
        err.stack = `Function needs 3 arguments, but only ${numArgs} present`;
        throw err;
      }
      */
      var err = new Error("Invalid arguments");
      err.name = "Application:";
      err.stack = `Function needs 3 arguments, but only ${numArgs} present`;
      throw err;
    }
    try {
      arguments.length >= 3 ? null : generateError(arguments.length);
    } catch (err) {
      console.error(`${err.name}: ${err.message}\n${err.stack}`);
    }
  }
  
  testArguments("Google");
            </code>
          </pre>
          </div>

          <button
            type="button"
            id="scriptContent3"
            onclick="changeScript('scriptContent3')"
          >
            Run
          </button>
        </div>
      </details>

      <details openetails class="h6" >
        <summary id="hw1">Homework 3</summary>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h6>Homework 06 / Required</h6>
            <p>
              Обязательное задание ( 3 балла ) Создайте массив tags с именами
              валидных тегов HTML5 Теперь создайте массив classes с именами
              классов ( число элементов в массиве classes должно быть не меньше,
              чем число элементов массива tags ) Создайте элемент style и
              вставьте его в head документа Добавьте контент элемента style с
              описанием классов, имена которых находятся в массиве classes
              Итерируйте массив tags, создавая соответствующие элементы и
              вставляя их на страницу, добавляя каждому элементу класс из
              массива classes
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent6">
            <pre>
              <code data-language="javascript" > 
                var myTag = ["header", "div", "section", "nav", "footer"];
                var myClassName = ["bk-red", "bk-blue", "bk-green", "bk-yellow", "bk-gray"];
                var myRoot = document.getElementById("myRoot");
                
                for (i = 0; i < myTag.length; i++) {
                  var myElem = createElem(i);
                  myElem.innerText = myTag[i];
                  console.log(myElem);
                  myRoot.appendChild(myElem);
                }
                
                function createElem(index) {
                  let i = index;
                  let elem = document.createElement(myTag[i]);
                  elem.setAttribute("class", myClassName[i]);
                  return elem;
                }
            </code>
          </pre>
          </div>
          <div id="myRoot" class="container"></div>
          <button
            type="button"
            id="scriptContent6"
            onclick="changeScript('scriptContent6')"
          >
            Run
          </button>
        </div>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h6>Homework 06 / Additionally 1</h6>
            <p>
              Дополнительно ( 4 балла ) Результат должен быть аналогичен тому,
              что получится в предыдущем упражнении, Однако исходный массив tags
              должен быть массивом объектов, каждый из которых содержит не
              только имя тега элемента, но и его атрибуты, а так же хотя бы один
              обработчик события Таким образом, массив classes нам уже не нужен,
              но кроме стилизации элементов нужно еще добавить их контент,
              используя как атрибуты тегов, так и свойства элементов DOMкоторый
              будет ссылкой на функцию userInfo Вызовите каждый метод
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent26">
            <pre>
              <code data-language="javascript" > 
  var myTag6 = [
  {
    myTagName: "header",
    myClassName: "bk-red",
    myEvent: "changeFontSize(this)",
  },
  {
    myTagName: "div",
    myClassName: "bk-blue",
    myEvent: "changeFontSize(this)",
  },
  {
    myTagName: "section",
    myClassName: "bk-green",
    myEvent: "changeFontSize(this)",
  },
  {
    myTagName: "nav",
    myClassName: "bk-yellow",
    myEvent: "changeFontSize(this)",
  },
  {
    myTagName: "footer",
    myClassName: "bk-gray",
    myEvent: "changeFontSize(this)",
  },
  ];
  var myRoot6 = document.getElementById("root62");
  
  function createElem6(index) {
  let i = index;
  let elem6 = document.createElement(myTag6[i].myTagName);
  elem6.setAttribute("class", myTag6[i].myClassName);
  elem6.setAttribute("onclick", myTag6[i].myEvent);
  return elem6;
  }
  
  function changeFontSize(identify) {
  identify.style.fontSize = "40px";
  identify.style.textTransform = "uppercase";
  }
  
  for (i = 0; i < myTag6.length; i++) {
  let myElem6 = createElem6(i);
  myElem6.innerText = myTag6[i].myTagName;
  console.log(myElem6);
  myRoot6.appendChild(myElem6);
  }
                       
            </code>
          </pre>
          </div>
          <div id="root62" class="container"></div>
          <button
            type="button"
            id="scriptContent26"
            onclick="changeScript('scriptContent26')"
          >
            Run
          </button>
        </div>
        <hr class="split-homeworks" />

        <div>
          <div class="task">
            <h6>Homework 06 / Additionally 2</h6>
            <p>
              Дополнительно ( 5 баллов ) Напилить код, который выбирает все
              элементы-потомки body ( :warning: кроме элементов script ) и
              добавляет им класc: .redBack { background-color: red!important; }
              Альтернативный вариант - выбрать все заранее заданные элементы:
              var tags = [ "header", "footer", "main", "div", "p" ] Запустить
              код в консоли любой страницы Подсказка: используйте методы объекта
              classList
            </p>
          </div>

          <div class="solution" contenteditable="true" id="scriptContent36">
            <pre>
              <code data-language="javascript" > 
  var bodyChild6 = document.querySelector("body").children;
  //console.log(bodyChild);
  
  for (i = 0; i < bodyChild6.length; i++) {
    if (bodyChild6[i].tagName.toLowerCase() != "script") {
      console.log(bodyChild6[i]);
      bodyChild6[i].classList.toggle("redBack");
    }
  }
              </code>
            </pre>
          </div>

          <button
            type="button"
            id="scriptContent36"
            onclick="changeScript('scriptContent36')"
          >
            Run
          </button>
        </div>
      </details>
    </mai openn>

    <script src="./scripts/rainbow-custom.min.js"></script>
    <script src="./scripts/genericjs.js"></script>
    <script src="./scripts/main.js"></script>
  </body>
</html>
